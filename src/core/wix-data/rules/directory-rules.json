{
  "$schema": "../schema/rule.schema.json",
  "rules": [
    {
      "id": "directory-requires-name",
      "name": "Directory requires Name or is StandardDirectory",
      "description": "Directory elements must have a Name attribute unless referencing a standard directory",
      "severity": "error",
      "element": "Directory",
      "condition": "!attributes.Name && !isStandardDirectory(attributes.Id)",
      "message": "Directory '{{attributes.Id}}' must have a Name attribute."
    },
    {
      "id": "directory-id-convention",
      "name": "Directory Id should be uppercase",
      "description": "By convention, Directory Ids should be UPPERCASE for consistency",
      "severity": "info",
      "element": "Directory",
      "condition": "attributes.Id && attributes.Id !== attributes.Id.toUpperCase() && !isStandardDirectory(attributes.Id)",
      "message": "Directory Id '{{attributes.Id}}' should be UPPERCASE by convention."
    },
    {
      "id": "directory-avoid-deep-nesting",
      "name": "Avoid deeply nested directories",
      "description": "Deeply nested directory structures can cause issues and are hard to maintain",
      "severity": "warning",
      "element": "Directory",
      "condition": "getDepth() > 10",
      "message": "Directory structure is deeply nested ({{getDepth()}} levels). Consider flattening the structure."
    },
    {
      "id": "use-standard-directory",
      "name": "Use StandardDirectory for system folders",
      "description": "Use StandardDirectory element instead of Directory for well-known system folders",
      "severity": "info",
      "element": "Directory",
      "condition": "isStandardDirectoryId(attributes.Id) && parent.name !== 'StandardDirectory'",
      "message": "Use <StandardDirectory Id=\"{{attributes.Id}}\"> instead of <Directory> for system folders."
    }
  ]
}
