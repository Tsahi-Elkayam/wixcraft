{
  "$schema": "../schema/rule.schema.json",
  "rules": [
    {
      "id": "feature-requires-title",
      "name": "Feature requires Title",
      "description": "Feature elements should have a Title attribute for display in UI",
      "severity": "warning",
      "element": "Feature",
      "condition": "!attributes.Title",
      "message": "Feature '{{attributes.Id}}' should have a Title attribute for user-facing installations."
    },
    {
      "id": "feature-requires-level",
      "name": "Feature requires Level",
      "description": "Feature elements should explicitly set an install Level",
      "severity": "info",
      "element": "Feature",
      "condition": "!attributes.Level",
      "message": "Feature '{{attributes.Id}}' should have a Level attribute. Use Level=\"1\" for default install, Level=\"0\" for hidden.",
      "fix": {
        "action": "addAttribute",
        "attribute": "Level",
        "value": "1"
      }
    },
    {
      "id": "feature-empty-check",
      "name": "Feature should not be empty",
      "description": "Features should contain at least one ComponentRef or ComponentGroupRef",
      "severity": "warning",
      "element": "Feature",
      "condition": "countChildren('ComponentRef') === 0 && countChildren('ComponentGroupRef') === 0 && countChildren('Feature') === 0",
      "message": "Feature '{{attributes.Id}}' is empty. Add ComponentRef, ComponentGroupRef, or nested Features."
    },
    {
      "id": "feature-description-recommended",
      "name": "Feature should have Description",
      "description": "For user-visible features, a Description helps users understand what they're installing",
      "severity": "info",
      "element": "Feature",
      "condition": "attributes.Level !== '0' && !attributes.Description",
      "message": "Consider adding a Description to Feature '{{attributes.Id}}' for better user experience."
    }
  ]
}
