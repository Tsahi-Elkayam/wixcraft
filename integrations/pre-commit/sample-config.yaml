# Sample .pre-commit-config.yaml for WiX projects
# Copy this file to your project root as .pre-commit-config.yaml
# Then run: pre-commit install

repos:
  # WixCraft hooks - requires tools installed in PATH
  - repo: local
    hooks:
      - id: wix-lint
        name: WiX Linter
        entry: wix-lint
        language: system
        types: [file]
        files: \.(wxs|wxi|wxl)$
        pass_filenames: true

      - id: wix-fmt-check
        name: WiX Format Check
        entry: wix-fmt --check
        language: system
        types: [file]
        files: \.(wxs|wxi)$
        pass_filenames: true

      - id: wix-security
        name: WiX Security Scan
        entry: wix-security scan --fail-on high
        language: system
        types: [file]
        files: \.(wxs|wxi)$
        pass_filenames: true

      - id: wix-upgrade
        name: WiX Upgrade Check
        entry: wix-upgrade validate --fail-on error
        language: system
        types: [file]
        files: \.(wxs|wxi)$
        pass_filenames: true

  # Optional: XML validation
  - repo: local
    hooks:
      - id: xml-check
        name: XML Syntax Check
        entry: xmllint --noout
        language: system
        types: [xml]
        files: \.(wxs|wxi|wxl)$
